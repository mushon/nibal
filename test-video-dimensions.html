<!DOCTYPE html>
<html>
<head>
<title>Test Video Dimensions</title>
<style>
body { margin: 20px; font-family: monospace; }
.test { margin: 20px 0; border: 2px solid #ccc; padding: 10px; }
</style>
</head>
<body>
<h1>Video Dimension Test</h1>

<div class="test">
<h2>Test 1: foreignObject with 100% sizing</h2>
<svg width="800" height="600" style="border: 1px solid red;">
  <use id="test-layer" x="100" y="100" width="408" height="723" fill="#f0f0f0" />
  <foreignObject id="fo1" x="100" y="100" width="408" height="723" style="pointer-events: auto;">
    <div xmlns="http://www.w3.org/1999/xhtml" style="width: 100%; height: 100%; background: rgba(0,255,0,0.2); border: 2px solid green;">
      <iframe src="../vim/#vimeo.com%2F1131602000/autoplay,loop,cover" 
              frameborder="0"
              style="width: 100%; height: 100%; border: 2px solid blue; display: block;">
      </iframe>
    </div>
  </foreignObject>
</svg>
<p>Expected: iframe should be 408×723 (matching foreignObject)</p>
<button onclick="checkDimensions('fo1')">Check Dimensions</button>
<pre id="result1"></pre>
</div>

<script>
function checkDimensions(foId) {
  const fo = document.getElementById(foId);
  const div = fo.querySelector('div');
  const iframe = fo.querySelector('iframe');
  
  const result = `
foreignObject: ${fo.getAttribute('width')} × ${fo.getAttribute('height')}
foreignObject computed: ${fo.getBoundingClientRect().width.toFixed(1)} × ${fo.getBoundingClientRect().height.toFixed(1)}

div style: ${div.style.width} × ${div.style.height}
div computed: ${div.getBoundingClientRect().width.toFixed(1)} × ${div.getBoundingClientRect().height.toFixed(1)}

iframe attributes: ${iframe.getAttribute('width') || 'none'} × ${iframe.getAttribute('height') || 'none'}
iframe style: ${iframe.style.width} × ${iframe.style.height}
iframe computed: ${iframe.getBoundingClientRect().width.toFixed(1)} × ${iframe.getBoundingClientRect().height.toFixed(1)}
  `;
  
  document.getElementById('result1').textContent = result;
}

// Auto-check on load
setTimeout(() => checkDimensions('fo1'), 1000);
</script>

</body>
</html>
